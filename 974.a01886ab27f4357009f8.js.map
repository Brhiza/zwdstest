{"version":3,"file":"974.a01886ab27f4357009f8.js","mappings":"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","sources":["webpack://react-iztro/./src/AIChat/components/HistoryPanel.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useAIChat } from '../AIChatContext';\nimport '../../styles/chat/history-panel.css';\nconst HistoryPanel = ({ onSelectSession }) => {\n    const { sessions, activeSessionId, switchSession, deleteSession, updateSessionTitle, clearAllSessions, model, setModel, createSession } = useAIChat();\n    const [editingSessionId, setEditingSessionId] = useState(null);\n    const [editingTitle, setEditingTitle] = useState('');\n    const models = [\"sydf/v1-250520\", \"qwen/qwen3-max\", \"ovo/deepseek-v3.1\", \"ovo/glm-4.5\", \"ovo/kimi-k2-0905\", \"ovo/gemini-2.5-pro\", \"ovo/gpt-oss-120\", \"ovo/llama-v4-maverick\"];\n    const handleEdit = (e, session) => {\n        e.stopPropagation();\n        setEditingSessionId(session.id);\n        setEditingTitle(session.title);\n    };\n    const handleTitleChange = (e) => {\n        setEditingTitle(e.target.value);\n    };\n    const handleTitleSave = () => {\n        if (editingSessionId && editingTitle.trim()) {\n            updateSessionTitle(editingSessionId, editingTitle.trim());\n        }\n        setEditingSessionId(null);\n        setEditingTitle('');\n    };\n    const handleKeyDown = (e) => {\n        if (e.key === 'Enter') {\n            handleTitleSave();\n        }\n        else if (e.key === 'Escape') {\n            setEditingSessionId(null);\n            setEditingTitle('');\n        }\n    };\n    const handleDelete = (e, sessionId) => {\n        e.stopPropagation(); // Prevent the session from being selected when deleting\n        if (window.confirm('您确定要删除这条记录吗？')) {\n            deleteSession(sessionId);\n        }\n    };\n    const handleClearAll = () => {\n        if (window.confirm('您确定要清空所有历史记录吗？此操作不可恢复。')) {\n            clearAllSessions();\n        }\n    };\n    const handleSessionClick = (sessionId) => {\n        switchSession(sessionId);\n        onSelectSession(sessionId); // Notify parent to switch tab\n    };\n    if (sessions.length === 0) {\n        return (React.createElement(\"div\", { className: \"history-panel empty-state\" },\n            React.createElement(\"p\", null, \"\\u8FD8\\u6CA1\\u6709\\u5386\\u53F2\\u8BB0\\u5F55\"),\n            React.createElement(\"span\", null, \"\\u5F00\\u59CB\\u4E00\\u6BB5\\u65B0\\u7684\\u5BF9\\u8BDD\\u5427\\uFF01\")));\n    }\n    return (React.createElement(\"div\", { className: \"history-panel\" },\n        React.createElement(\"ul\", { className: \"history-list\" }, sessions.map((session) => (React.createElement(\"li\", { key: session.id, className: `history-item ${session.id === activeSessionId ? 'active' : ''}`, onClick: () => handleSessionClick(session.id) },\n            React.createElement(\"div\", { className: \"history-item-content\" },\n                React.createElement(\"div\", { className: \"history-item-main\" }, editingSessionId === session.id ? (React.createElement(\"input\", { type: \"text\", value: editingTitle, onChange: handleTitleChange, onBlur: handleTitleSave, onKeyDown: handleKeyDown, className: \"history-item-title-input\", autoFocus: true, onClick: (e) => e.stopPropagation() })) : (React.createElement(React.Fragment, null,\n                    React.createElement(\"p\", { className: \"history-item-title\" }, session.title),\n                    React.createElement(\"span\", { className: \"history-item-date\" }, new Date(session.createdAt).toLocaleString('zh-CN', {\n                        year: 'numeric',\n                        month: '2-digit',\n                        day: '2-digit',\n                        hour: '2-digit',\n                        minute: '2-digit',\n                    })))))),\n            React.createElement(\"div\", { className: \"history-item-actions\" },\n                React.createElement(\"button\", { className: \"history-action-button history-edit-icon\", onClick: (e) => handleEdit(e, session), \"aria-label\": \"\\u7F16\\u8F91\\u6807\\u9898\" },\n                    React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: \"18\", height: \"18\", viewBox: \"0 0 24 24\", fill: \"none\", stroke: \"currentColor\", strokeWidth: \"2\", strokeLinecap: \"round\", strokeLinejoin: \"round\" },\n                        React.createElement(\"path\", { d: \"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\" }),\n                        React.createElement(\"path\", { d: \"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\" }))),\n                React.createElement(\"button\", { className: \"history-action-button history-item-delete\", onClick: (e) => handleDelete(e, session.id), \"aria-label\": \"\\u5220\\u9664\\u8BB0\\u5F55\" },\n                    React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: \"18\", height: \"18\", viewBox: \"0 0 24 24\", fill: \"none\", stroke: \"currentColor\", strokeWidth: \"2\", strokeLinecap: \"round\", strokeLinejoin: \"round\" },\n                        React.createElement(\"polyline\", { points: \"3 6 5 6 21 6\" }),\n                        React.createElement(\"path\", { d: \"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\" }),\n                        React.createElement(\"line\", { x1: \"10\", y1: \"11\", x2: \"10\", y2: \"17\" }),\n                        React.createElement(\"line\", { x1: \"14\", y1: \"11\", x2: \"14\", y2: \"17\" })))))))),\n        sessions.length > 0 && (React.createElement(\"div\", { className: \"history-panel-footer\" },\n            React.createElement(\"button\", { className: \"history-clear-button\", onClick: handleClearAll }, \"\\u6E05\\u7A7A\\u6240\\u6709\\u8BB0\\u5F55\")))));\n};\nexport default HistoryPanel;\n"],"names":["onSelectSession","sessions","activeSessionId","switchSession","deleteSession","updateSessionTitle","clearAllSessions","model","setModel","createSession","editingSessionId","setEditingSessionId","useState","editingTitle","setEditingTitle","handleTitleChange","e","target","value","handleTitleSave","trim","handleKeyDown","key","length","className","map","session","id","onClick","handleSessionClick","sessionId","type","onChange","onBlur","onKeyDown","autoFocus","stopPropagation","title","Date","createdAt","toLocaleString","year","month","day","hour","minute","handleEdit","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","window","confirm","handleDelete","points","x1","y1","x2","y2"],"sourceRoot":""}