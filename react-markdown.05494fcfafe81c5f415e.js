"use strict";(self.webpackChunkreact_iztro=self.webpackChunkreact_iztro||[]).push([[226],{2826:(e,n,r)=>{r.r(n),r.d(n,{MarkdownAsync:()=>N,MarkdownHooks:()=>P,default:()=>H,defaultUrlTransform:()=>U});var t=r(7471),o=r(340),i=r(9061),l=r(4848),s=r(6540),c=r(9648),u=r(5661),a=r(7771);const d=function(e){if(null==e)return m;if("function"==typeof e)return f(e);if("object"==typeof e)return Array.isArray(e)?function(e){const n=[];let r=-1;for(;++r<e.length;)n[r]=d(e[r]);return f(t);function t(...e){let r=-1;for(;++r<n.length;)if(n[r].apply(this,e))return!0;return!1}}(e):function(e){const n=e;return f(r);function r(r){const t=r;let o;for(o in e)if(t[o]!==n[o])return!1;return!0}}(e);if("string"==typeof e)return function(e){return f(n);function n(n){return n&&n.type===e}}(e);throw new Error("Expected function, string, or object as test")};function f(e){return function(n,r,t){return Boolean(p(n)&&e.call(this,n,"number"==typeof r?r:void 0,t||void 0))}}function m(){return!0}function p(e){return null!==e&&"object"==typeof e&&"type"in e}const y=[],h=!0,g=!1,w="skip";function v(e,n,r,t){let o;"function"==typeof n&&"function"!=typeof r?(t=r,r=n):o=n;const i=d(o),l=t?-1:1;!function e(o,s,c){const u=o&&"object"==typeof o?o:{};if("string"==typeof u.type){const e="string"==typeof u.tagName?u.tagName:"string"==typeof u.name?u.name:void 0;Object.defineProperty(a,"name",{value:"node ("+o.type+(e?"<"+e+">":"")+")"})}return a;function a(){let u,a,d,f=y;if((!n||i(o,s,c[c.length-1]||void 0))&&(f=function(e){if(Array.isArray(e))return e;if("number"==typeof e)return[h,e];return null==e?y:[e]}(r(o,c)),f[0]===g))return f;if("children"in o&&o.children){const n=o;if(n.children&&f[0]!==w)for(a=(t?n.children.length:-1)+l,d=c.concat(n);a>-1&&a<n.children.length;){const r=n.children[a];if(u=e(r,a,d)(),u[0]===g)return u;a="number"==typeof u[1]?u[1]:a+l}}return f}}(e,void 0,[])()}var k=r(8826);const b="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",x=[],O={allowDangerousHtml:!0},j=/^(https?|ircs?|mailto|xmpp)$/i,E=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function H(e){const n=T(e),r=A(e);return S(n.runSync(n.parse(r),r),e)}async function N(e){const n=T(e),r=A(e);return S(await n.run(n.parse(r),r),e)}function P(e){const n=T(e),[r,t]=(0,s.useState)(void 0),[o,i]=(0,s.useState)(void 0);if((0,s.useEffect)(function(){let r=!1;const o=A(e);return n.run(n.parse(o),o,function(e,n){r||(t(e),i(n))}),function(){r=!0}},[e.children,e.rehypePlugins,e.remarkPlugins,e.remarkRehypeOptions]),r)throw r;return o?S(o,e):e.fallback}function T(e){const n=e.rehypePlugins||x,r=e.remarkPlugins||x,t=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...O}:O;return(0,a.l)().use(c.A).use(r).use(u.A,t).use(n)}function A(e){const n=e.children||"",r=new k.T;return"string"==typeof n?r.value=n:(0,t.HB)("Unexpected value `"+n+"` for `children` prop, expected `string`"),r}function S(e,n){const r=n.allowedElements,s=n.allowElement,c=n.components,u=n.disallowedElements,a=n.skipHtml,d=n.unwrapDisallowed,f=n.urlTransform||U;for(const e of E)Object.hasOwn(n,e.from)&&(0,t.HB)("Unexpected `"+e.from+"` prop, "+(e.to?"use `"+e.to+"` instead":"remove it")+" (see <"+b+"#"+e.id+"> for more info)");return r&&u&&(0,t.HB)("Unexpected combined `allowedElements` and `disallowedElements`, expected one or the other"),function(e,n,r,t){let o,i,l;"function"==typeof n&&"function"!=typeof r?(i=void 0,l=n,o=r):(i=n,l=r,o=t),v(e,i,function(e,n){const r=n[n.length-1],t=r?r.children.indexOf(e):void 0;return l(e,t,r)},o)}(e,function(e,n,t){if("raw"===e.type&&t&&"number"==typeof n)return a?t.children.splice(n,1):t.children[n]={type:"text",value:e.value},n;if("element"===e.type){let n;for(n in i.$)if(Object.hasOwn(i.$,n)&&Object.hasOwn(e.properties,n)){const r=e.properties[n],t=i.$[n];(null===t||t.includes(e.tagName))&&(e.properties[n]=f(String(r||""),n,e))}}if("element"===e.type){let o=r?!r.includes(e.tagName):!!u&&u.includes(e.tagName);if(!o&&s&&"number"==typeof n&&(o=!s(e,n,t)),o&&t&&"number"==typeof n)return d&&e.children?t.children.splice(n,1,...e.children):t.children.splice(n,1),n}}),(0,o.H)(e,{Fragment:l.Fragment,components:c,ignoreInvalidStyle:!0,jsx:l.jsx,jsxs:l.jsxs,passKeys:!0,passNode:!0})}function U(e){const n=e.indexOf(":"),r=e.indexOf("?"),t=e.indexOf("#"),o=e.indexOf("/");return-1===n||-1!==o&&n>o||-1!==r&&n>r||-1!==t&&n>t||j.test(e.slice(0,n))?e:""}}}]);
//# sourceMappingURL=react-markdown.05494fcfafe81c5f415e.js.map